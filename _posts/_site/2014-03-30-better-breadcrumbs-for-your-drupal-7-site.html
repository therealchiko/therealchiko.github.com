<p>Often times when creating custom modules for Drupal, we get confronted with the problem of setting friendly but useful breadcrumbs. The contribution a clearly set breadcrumb can make on a page can never be understated, it guides the user on where they’re coming from and currently are.<br />
<!--more-->
<em>This post assumes you already know how to write a module for drupal and you’re pretty familiar with the drupal way of coding.</em></p>

<p>Today i’m going to show drupal developers how to use internal and contributed breadcrumbs API to create modules that use clearly defined breadcrumb rules. This will ultimately help webmasters and site creators when they use your modules, besides making Drupal super cool to use.</p>

<p>First off, download the awesome <a href="http://drupal.org/project/custom_breadcrumbs">Custom Breadcrumbs</a> module that comes bundled with the API we’re going to use.</p>

<h5 id="create-a-custom-module">Create a custom module.</h5>

<p>The following module is a super simple module to illustrate the concept, lets call it newcrumbs. Here’s our .info file:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name = newcrumbs
description =Custom module that uses a breadcrumb API
core =6.x
package=Other
</code></pre>
</div>
<p>Now that we are done declaring our module, let’s dive into code.</p>

<p>Next we call our module straight from the pages generated by our module. Ideally, these pages we would create using hook_menu() (maybe by other modules) so let’s go ahead and define that.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
  * Implementation of hook_menu()
  */</span>
 <span class="err"> </span>
<span class="k">function</span> <span class="nf">newcrumbs_menu</span><span class="p">(){</span>
 <span class="nv">$items</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
 <span class="nv">$items</span><span class="p">[</span><span class="s1">'tealist'</span><span class="p">]</span><span class="o">=</span> <span class="k">array</span> <span class="p">(</span>
    <span class="s1">'title'</span><span class="o">=</span> <span class="nx">t</span><span class="p">(</span><span class="s1">'A listing of different kinds of tea'</span><span class="p">),</span>
    <span class="s1">'page callback'</span><span class="o">=</span> <span class="s1">'displaytea_list'</span><span class="p">,</span>
    <span class="s1">'access arguments'</span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'administer content'</span><span class="p">),</span>
    <span class="s1">'type'</span><span class="o">=</span> <span class="nx">MENU_CALLBACK</span><span class="p">,</span>
 <span class="p">);</span>
 <span class="err"> </span>
 <span class="k">return</span> <span class="nv">$items</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Now for the callback that will be called on our newly created page.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">displaytea_list</span><span class="p">(){</span>
 <span class="c1">//let's define a breadcrumb for the page here
</span> <span class="nv">$breadcrumb</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
 <span class="nx">drupal_alter</span><span class="p">(</span><span class="s1">'breadcrumb'</span><span class="p">,</span> <span class="nv">$breadcrumb</span><span class="p">,</span><span class="s1">'newcrumbs_call'</span><span class="p">);</span>
 <span class="c1">//just before setting it, we invoke the module.
</span><span class="p">}</span>
</code></pre>
</div>

<p>Now back into our admin section, go to “admin/build/custom_breadcrumbs/module/add” and down the list, you should see our newly created module. Go ahead and define the rules to use and VOILA! The module now uses well defined, easy to read breadcrumbs!</p>
